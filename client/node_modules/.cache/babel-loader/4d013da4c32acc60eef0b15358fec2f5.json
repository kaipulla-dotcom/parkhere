{"ast":null,"code":"var _jsxFileName = \"/Users/Jack/Documents/MSSD/633/parkhere/client/src/pages/Dash/index.js\";\nimport React, { Component } from \"react\";\nimport moment from \"moment\";\nimport ListingCard from \"../../components/ListingCard\";\nimport ReservCard from \"../../components/ReservCard\";\nimport API from \"../../util/API\";\nimport \"./style.css\";\nimport Nav from \"../../components/Nav\";\nimport PropTypes from \"prop-types\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Hidden from \"@material-ui/core/Hidden\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport List from \"@material-ui/core/List\";\nimport Divider from \"@material-ui/core/Divider\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst drawerWidth = 240;\n\nfunction TabContainer(props) {\n  return /*#__PURE__*/_jsxDEV(Typography, {\n    component: \"div\",\n    style: {\n      padding: \"8px\"\n    },\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 5\n  }, this);\n}\n\n_c = TabContainer;\nTabContainer.propTypes = {\n  children: PropTypes.node.isRequired\n};\n\nconst styles = theme => ({\n  root: {\n    flexGrow: 1,\n    display: \"flex\"\n  },\n  tabs: {\n    flexGrow: 1\n  },\n  paper: {\n    padding: theme.spacing.unit * 1,\n    margin: \"auto\",\n    textAlign: \"center\",\n    color: theme.palette.text.secondary,\n    height: \"100%\"\n  },\n  cardContainer: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    justifyContent: \"center\"\n  },\n  drawerPaper: {\n    width: drawerWidth\n  },\n  drawer: {\n    [theme.breakpoints.up(\"sm\")]: {\n      width: drawerWidth,\n      flexShrink: 0\n    }\n  },\n  drawerList: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  appBar: {\n    zIndex: theme.zIndex.drawer + 1\n  },\n  menuButton: {\n    marginRight: 20,\n    [theme.breakpoints.up(\"sm\")]: {\n      display: \"none\"\n    }\n  },\n  toolbar: theme.mixins.toolbar,\n  content: {\n    flexGrow: 1\n  },\n  large: {\n    width: 150,\n    height: 150,\n    marginTop: \"20px\"\n  }\n});\n\nclass Dash extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      listing: [],\n      reserved: [],\n      user: {},\n      userId: \"\",\n      username: \"\",\n      firstName: \"\",\n      lastName: \"\",\n      photo: \"\",\n      reservationsObject: {},\n      // For tabs\n      value: 0,\n      mobileOpen: false\n    };\n\n    this.userInfo = () => {\n      API.getUser().then(res => {\n        console.log(\"=======\");\n        console.log(res);\n        console.log(\"=======\");\n        this.setState({\n          user: res.data\n        });\n        this.setState({\n          userId: res.data.user._id\n        });\n        this.setState({\n          firstname: res.data.user.firstName\n        });\n        this.setState({\n          lastname: res.data.user.lastName\n        });\n        this.setState({\n          photo: res.data.user.photo\n        });\n        this.loadListings();\n        this.loadReserved();\n      }).catch(err => console.log(err));\n    };\n\n    this.loadListings = () => {\n      API.getListingsForProf().then(res => {\n        this.setState({\n          listing: res.data\n        });\n      }).catch(err => console.log(err));\n    };\n\n    this.processReserved = reserved => {\n      // array isn't great for listing by date so we create an object\n      let reservationsObject = {};\n      reserved.forEach(reservation => {\n        reservationsObject[reservation.listing] = reservationsObject[reservation.listing] || reservation; // init listing key with reservation\n\n        reservationsObject[reservation.listing].reservations = reservationsObject[reservation.listing].reservations || []; // create empty array\n\n        reservationsObject[reservation.listing].reservations = [...reservationsObject[reservation.listing].reservations, {\n          date: reservation.date,\n          reservationId: reservation._id\n        }]; //add new reservation to listing\n      });\n      this.setState({\n        reservationsObject\n      });\n    };\n\n    this.loadReserved = () => {\n      API.getReservForProf(this.state.userId).then(res => {\n        this.processReserved(res.data);\n        this.setState({\n          reserved: res.data\n        });\n      }).catch(err => console.log(err));\n    };\n\n    this.loadReserved3 = () => {\n      API.getReservForProf(this.state.userId).then(res => {\n        this.setState({\n          reserved: res.data\n        });\n        console.log(\"RESERVATIONS\");\n        console.log(res.data);\n      }).catch(err => console.log(err));\n    };\n\n    this.loadReserved2 = () => {\n      API.getReservForProf().then(res => {\n        this.setState({\n          reserved: res.data\n        });\n        console.log(\"RESERVATIONS\");\n        console.log(res.data);\n      }).catch(err => console.log(err));\n    };\n\n    this.handleChange = (event, value) => {\n      this.setState({\n        value\n      });\n    };\n\n    this.handleDrawerToggle = () => {\n      this.setState(state => ({\n        mobileOpen: !state.mobileOpen\n      }));\n    };\n  }\n\n  componentDidMount() {\n    this.userInfo();\n    this.loadListings();\n  }\n\n  tester() {\n    console.log(\"testing user\");\n    console.log(this.state);\n  }\n\n  render() {\n    const classes = this.props.classes;\n    const _this$state = this.state,\n          value = _this$state.value,\n          reservationsObject = _this$state.reservationsObject;\n\n    const drawer = /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.toolbar\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(List, {\n        className: classes.drawerList,\n        style: {\n          fontFamily: \"Roboto\",\n          color: \"#545454\",\n          fontSize: \"18px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(Avatar, {\n          width: \"200\",\n          src: !this.state.photo ? \"https://cdn0.iconfinder.com/data/icons/user-collection-4/512/user-512.png\" : this.state.photo,\n          className: classes.large\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            textAlign: \"center\"\n          },\n          children: [\"Welcome back, \", this.state.firstName, \"!\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 7\n    }, this);\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.root,\n      children: [/*#__PURE__*/_jsxDEV(CssBaseline, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AppBar, {\n        position: \"fixed\",\n        className: classes.appBar,\n        elevation: 0,\n        children: /*#__PURE__*/_jsxDEV(Nav, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n        className: classes.drawer,\n        children: [/*#__PURE__*/_jsxDEV(Hidden, {\n          smUp: true,\n          implementation: \"css\",\n          children: /*#__PURE__*/_jsxDEV(Drawer, {\n            container: this.props.container,\n            variant: \"temporary\",\n            open: this.state.mobileOpen,\n            onClose: this.handleDrawerToggle,\n            classes: {\n              paper: classes.drawerPaper\n            },\n            children: drawer\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Hidden, {\n          xsDown: true,\n          implementation: \"css\",\n          children: /*#__PURE__*/_jsxDEV(Drawer, {\n            classes: {\n              paper: classes.drawerPaper\n            },\n            variant: \"permanent\",\n            open: true,\n            children: drawer\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        className: classes.content,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.toolbar\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.root,\n            children: /*#__PURE__*/_jsxDEV(Grid, {\n              container: true,\n              spacing: 0,\n              children: /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                children: [/*#__PURE__*/_jsxDEV(Paper, {\n                  className: classes.tabs,\n                  square: true,\n                  elevation: 0,\n                  children: /*#__PURE__*/_jsxDEV(Tabs, {\n                    value: this.state.value,\n                    onChange: this.handleChange,\n                    indicatorColor: \"primary\",\n                    textColor: \"primary\",\n                    centered: true,\n                    variant: \"fullWidth\",\n                    children: [/*#__PURE__*/_jsxDEV(Tab, {\n                      label: \"Listings\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 285,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Tab, {\n                      label: \"Reservations\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 286,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 277,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 276,\n                  columnNumber: 19\n                }, this), value === 0 && /*#__PURE__*/_jsxDEV(TabContainer, {\n                  children: /*#__PURE__*/_jsxDEV(Paper, {\n                    className: classes.paper,\n                    elevation: 0,\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                        children: \"LISTINGS\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 294,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: classes.cardContainer,\n                        children: this.state.listing.map(listing => {\n                          if (listing.user === this.state.userId) {\n                            return /*#__PURE__*/_jsxDEV(\"div\", {\n                              children: /*#__PURE__*/_jsxDEV(ListingCard, {\n                                loadListings: this.loadListings,\n                                id: listing._id,\n                                title: listing.title,\n                                photo: listing.photo,\n                                address: listing.address,\n                                city: listing.city,\n                                state: listing.state,\n                                zip: listing.zip,\n                                handleEditListing: this.handleEditListing,\n                                handleAvailListing: this.handleAvailListing\n                              }, listing._id, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 300,\n                                columnNumber: 37\n                              }, this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 299,\n                              columnNumber: 35\n                            }, this);\n                          }\n                        })\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 295,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 293,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 292,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 291,\n                  columnNumber: 21\n                }, this), value === 1 && /*#__PURE__*/_jsxDEV(TabContainer, {\n                  children: /*#__PURE__*/_jsxDEV(Paper, {\n                    className: classes.paper,\n                    elevation: 0,\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                        children: \"RESERVATIONS\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 328,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: classes.cardContainer,\n                        children: Object.keys(this.state.reservationsObject).map(key => {\n                          console.log(\"jknasjdnasjnd\", key);\n                          if (reservationsObject[key].renter === this.state.userId) return /*#__PURE__*/_jsxDEV(\"div\", {\n                            children: /*#__PURE__*/_jsxDEV(ReservCard, {\n                              date: moment(reservationsObject[key].date).format(\"LL\"),\n                              reservations: reservationsObject[key].reservations,\n                              id: reservationsObject[key]._id,\n                              address: reservationsObject[key].address,\n                              title: reservationsObject[key].title,\n                              photo: reservationsObject[key].photo,\n                              loadReserved: this.loadReserved\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 339,\n                              columnNumber: 39\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 338,\n                            columnNumber: 37\n                          }, this);\n                        })\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 329,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 327,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 326,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 325,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 274,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nDash.propTypes = {\n  classes: PropTypes.object.isRequired\n};\nexport default withStyles(styles)(Dash);\n\nvar _c;\n\n$RefreshReg$(_c, \"TabContainer\");","map":{"version":3,"sources":["/Users/Jack/Documents/MSSD/633/parkhere/client/src/pages/Dash/index.js"],"names":["React","Component","moment","ListingCard","ReservCard","API","Nav","PropTypes","withStyles","Grid","Paper","Tabs","Tab","Typography","Hidden","Drawer","AppBar","CssBaseline","List","Divider","Avatar","drawerWidth","TabContainer","props","padding","children","propTypes","node","isRequired","styles","theme","root","flexGrow","display","tabs","paper","spacing","unit","margin","textAlign","color","palette","text","secondary","height","cardContainer","flexWrap","justifyContent","drawerPaper","width","drawer","breakpoints","up","flexShrink","drawerList","flexDirection","alignItems","appBar","zIndex","menuButton","marginRight","toolbar","mixins","content","large","marginTop","Dash","state","listing","reserved","user","userId","username","firstName","lastName","photo","reservationsObject","value","mobileOpen","userInfo","getUser","then","res","console","log","setState","data","_id","firstname","lastname","loadListings","loadReserved","catch","err","getListingsForProf","processReserved","forEach","reservation","reservations","date","reservationId","getReservForProf","loadReserved3","loadReserved2","handleChange","event","handleDrawerToggle","componentDidMount","tester","render","classes","fontFamily","fontSize","container","map","title","address","city","zip","handleEditListing","handleAvailListing","Object","keys","key","renter","format","object"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport moment from \"moment\";\nimport ListingCard from \"../../components/ListingCard\";\nimport ReservCard from \"../../components/ReservCard\";\nimport API from \"../../util/API\";\nimport \"./style.css\";\nimport Nav from \"../../components/Nav\";\nimport PropTypes from \"prop-types\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Hidden from \"@material-ui/core/Hidden\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport List from \"@material-ui/core/List\";\nimport Divider from \"@material-ui/core/Divider\";\nimport Avatar from \"@material-ui/core/Avatar\";\n\nconst drawerWidth = 240;\n\nfunction TabContainer(props) {\n  return (\n    <Typography component=\"div\" style={{ padding: \"8px\" }}>\n      {props.children}\n    </Typography>\n  );\n}\n\nTabContainer.propTypes = {\n  children: PropTypes.node.isRequired\n};\n\nconst styles = theme => ({\n  root: {\n    flexGrow: 1,\n    display: \"flex\"\n  },\n  tabs: {\n    flexGrow: 1\n  },\n  paper: {\n    padding: theme.spacing.unit * 1,\n    margin: \"auto\",\n    textAlign: \"center\",\n    color: theme.palette.text.secondary,\n    height: \"100%\"\n  },\n  cardContainer: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    justifyContent: \"center\"\n  },\n  drawerPaper: {\n    width: drawerWidth\n  },\n  drawer: {\n    [theme.breakpoints.up(\"sm\")]: {\n      width: drawerWidth,\n      flexShrink: 0\n    }\n  },\n  drawerList: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  appBar: {\n    zIndex: theme.zIndex.drawer + 1\n  },\n  menuButton: {\n    marginRight: 20,\n    [theme.breakpoints.up(\"sm\")]: {\n      display: \"none\"\n    }\n  },\n  toolbar: theme.mixins.toolbar,\n  content: {\n    flexGrow: 1\n  },\n  large: {\n    width: 150,\n    height: 150,\n    marginTop: \"20px\"\n  }\n});\n\nclass Dash extends Component {\n  state = {\n    listing: [],\n    reserved: [],\n    user: {},\n    userId: \"\",\n    username: \"\",\n    firstName: \"\",\n    lastName: \"\",\n    photo: \"\",\n    reservationsObject: {},\n    // For tabs\n    value: 0,\n    mobileOpen: false\n  };\n\n  componentDidMount() {\n    this.userInfo();\n    this.loadListings();\n  }\n\n  userInfo = () => {\n    API.getUser()\n      .then(res => {\n        console.log(\"=======\");\n        console.log(res);\n        console.log(\"=======\");\n        this.setState({ user: res.data });\n        this.setState({ userId: res.data.user._id });\n        this.setState({ firstname: res.data.user.firstName });\n        this.setState({ lastname: res.data.user.lastName });\n        this.setState({ photo: res.data.user.photo });\n        this.loadListings();\n        this.loadReserved();\n      })\n      .catch(err => console.log(err));\n  };\n\n  tester() {\n    console.log(\"testing user\");\n    console.log(this.state);\n  }\n\n  loadListings = () => {\n    API.getListingsForProf()\n\n      .then(res => {\n        this.setState({ listing: res.data });\n      })\n      .catch(err => console.log(err));\n  };\n\n  processReserved = reserved => {\n    // array isn't great for listing by date so we create an object\n    let reservationsObject = {};\n    reserved.forEach(reservation => {\n      reservationsObject[reservation.listing] =\n        reservationsObject[reservation.listing] || reservation; // init listing key with reservation\n      reservationsObject[reservation.listing].reservations =\n        reservationsObject[reservation.listing].reservations || []; // create empty array\n      reservationsObject[reservation.listing].reservations = [\n        ...reservationsObject[reservation.listing].reservations,\n        { date: reservation.date, reservationId: reservation._id }\n      ]; //add new reservation to listing\n    });\n\n    this.setState({\n      reservationsObject\n    });\n  };\n\n  loadReserved = () => {\n    API.getReservForProf(this.state.userId)\n      .then(res => {\n        this.processReserved(res.data);\n        this.setState({ reserved: res.data });\n      })\n\n      .catch(err => console.log(err));\n  };\n\n  loadReserved3 = () => {\n    API.getReservForProf(this.state.userId)\n      .then(res => {\n        this.setState({ reserved: res.data });\n        console.log(\"RESERVATIONS\");\n        console.log(res.data);\n      })\n\n      .catch(err => console.log(err));\n  };\n  loadReserved2 = () => {\n    API.getReservForProf()\n      .then(res => {\n        this.setState({ reserved: res.data });\n        console.log(\"RESERVATIONS\");\n        console.log(res.data);\n      })\n\n      .catch(err => console.log(err));\n  };\n\n  handleChange = (event, value) => {\n    this.setState({ value });\n  };\n\n  handleDrawerToggle = () => {\n    this.setState(state => ({ mobileOpen: !state.mobileOpen }));\n  };\n\n  render() {\n    const { classes } = this.props;\n    const { value, reservationsObject } = this.state;\n\n    const drawer = (\n      <div>\n        <div className={classes.toolbar} />\n        <Divider />\n\n        <List\n          className={classes.drawerList}\n          style={{\n            fontFamily: \"Roboto\",\n            color: \"#545454\",\n            fontSize: \"18px\"\n          }}\n        >\n          <Avatar\n            width=\"200\"\n            src={\n              !this.state.photo\n                ? \"https://cdn0.iconfinder.com/data/icons/user-collection-4/512/user-512.png\"\n                : this.state.photo\n            }\n            className={classes.large}\n          />\n          <h3 style={{ textAlign: \"center\" }}>\n            Welcome back, {this.state.firstName}!\n          </h3>\n        </List>\n      </div>\n    );\n\n    return (\n      <div className={classes.root}>\n        <CssBaseline />\n        <AppBar position=\"fixed\" className={classes.appBar} elevation={0}>\n          <Nav />\n        </AppBar>\n\n        <nav className={classes.drawer}>\n          <Hidden smUp implementation=\"css\">\n            <Drawer\n              container={this.props.container}\n              variant=\"temporary\"\n              open={this.state.mobileOpen}\n              onClose={this.handleDrawerToggle}\n              classes={{\n                paper: classes.drawerPaper\n              }}\n            >\n              {drawer}\n            </Drawer>\n          </Hidden>\n          <Hidden xsDown implementation=\"css\">\n            <Drawer\n              classes={{\n                paper: classes.drawerPaper\n              }}\n              variant=\"permanent\"\n              open\n            >\n              {drawer}\n            </Drawer>\n          </Hidden>\n        </nav>\n        <main className={classes.content}>\n          <div className={classes.toolbar} />\n\n          <div>\n            <div className={classes.root}>\n              <Grid container spacing={0}>\n                <Grid item xs={12}>\n                  {/* //Begin Tabs Menu// */}\n                  <Paper className={classes.tabs} square={true} elevation={0}>\n                    <Tabs\n                      value={this.state.value}\n                      onChange={this.handleChange}\n                      indicatorColor=\"primary\"\n                      textColor=\"primary\"\n                      centered\n                      variant=\"fullWidth\"\n                    >\n                      <Tab label=\"Listings\" />\n                      <Tab label=\"Reservations\" />\n                    </Tabs>\n                  </Paper>\n                  {/* End Tabs Menu// */}\n                  {value === 0 && (\n                    <TabContainer>\n                      <Paper className={classes.paper} elevation={0}>\n                        <div>\n                          <h1>LISTINGS</h1>\n                          <div className={classes.cardContainer}>\n                            {this.state.listing.map(listing => {\n                              if (listing.user === this.state.userId) {\n                                return (\n                                  <div>\n                                    <ListingCard\n                                      loadListings={this.loadListings}\n                                      key={listing._id}\n                                      id={listing._id}\n                                      title={listing.title}\n                                      photo={listing.photo}\n                                      address={listing.address}\n                                      city={listing.city}\n                                      state={listing.state}\n                                      zip={listing.zip}\n                                      handleEditListing={this.handleEditListing}\n                                      handleAvailListing={\n                                        this.handleAvailListing\n                                      }\n                                    />\n                                  </div>\n                                );\n                              }\n                            })}\n                          </div>\n                        </div>\n                      </Paper>\n                    </TabContainer>\n                  )}\n                  {value === 1 && (\n                    <TabContainer>\n                      <Paper className={classes.paper} elevation={0}>\n                        <div>\n                          <h1>RESERVATIONS</h1>\n                          <div className={classes.cardContainer}>\n                            {Object.keys(this.state.reservationsObject).map(\n                              key => {\n                                console.log(\"jknasjdnasjnd\", key);\n                                if (\n                                  reservationsObject[key].renter ===\n                                  this.state.userId\n                                )\n                                  return (\n                                    <div>\n                                      <ReservCard\n                                        date={moment(\n                                          reservationsObject[key].date\n                                        ).format(\"LL\")}\n                                        reservations={\n                                          reservationsObject[key].reservations\n                                        }\n                                        id={reservationsObject[key]._id}\n                                        address={\n                                          reservationsObject[key].address\n                                        }\n                                        title={reservationsObject[key].title}\n                                        photo={reservationsObject[key].photo}\n                                        loadReserved={this.loadReserved}\n                                      />\n                                    </div>\n                                  );\n                              }\n                            )}\n                          </div>\n                        </div>\n                      </Paper>\n                    </TabContainer>\n                  )}\n                </Grid>\n              </Grid>\n            </div>\n          </div>\n        </main>\n      </div>\n    );\n  }\n}\n\nDash.propTypes = {\n  classes: PropTypes.object.isRequired\n};\n\nexport default withStyles(styles)(Dash);"]},"metadata":{},"sourceType":"module"}